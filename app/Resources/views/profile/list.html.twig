{% extends 'base.html.twig' %}

{% block title %} {{ parent() }} - Profiles {% endblock %}

{% block stylesheets %}
    {{ parent() }}

{%  endblock %}

{% block body %}
    <h3>Profiles</h3>
    <table class="table table-striped" id="profile-table">
        <thead>
        <tr>
            <th>Profile standard label</th>
            <th>Project of belonging</th>
            <th>Start date</th>
            <th>End date</th>
            <th>Last updated</th>
        </tr>
        </thead>
        <tbody>
        {% for profile in profiles %}
            <tr>
                <td>
                    <a href="{{ path('profile_show', {
                        'id': profile.id
                    }) }}">
                        {{ profile.standardLabel }}
                    </a>
                </td>
                <td>
                    <a href="{{ path('project_show', {
                        'id': profile.projectOfBelonging.id
                    }) }}">
                        {{ profile.projectOfBelonging.standardLabel }}
                    </a>
                </td>
                <td>{{ profile.startDate is empty ? '' : profile.startDate|date('Y-m-d') }}</td>
                <td>{{ profile.endDate is empty ? '' : profile.endDate|date('Y-m-d') }}</td>
                <td>{{ profile.modificationTime|date('Y-m-d') }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}
{% block javascripts %}
    {{ parent() }}

    <script>
        $(document).ready(function() {
            $('#profile-table').DataTable({"pageLength":50});
        } );
    </script>
{% endblock %}